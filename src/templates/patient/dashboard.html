{% extends 'layout/layout_public.html' %}

{% block content %}
<div class="container mt-2">
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb breadcrumb-chevron p-3 bg-body-tertiary rounded-3">
            <li class="breadcrumb-item">
                <a class="link-body-emphasis fw-semibold text-decoration-none" href="{{ url_for('public.index') }}">
                    Home
                </a>
            </li>
            <li class="breadcrumb-item active" aria-current="page">
                Dashboard
            </li>
        </ol>
    </nav>
</div>

<div class="container">
    <div class="row">
        <div class="col-md-3 mb-2">
            <img src="{{ url_for('static', filename='avatars/patient/'~user.avatar) }}" class="img-thumbnail me-2"
                alt="{{ current_user.username }}" style="max-width: 235px; max-height: 220px;" alt="{{ user.username }}"
                title="{{ user.username }}">
            <div class="mt-2">
                <a href="{{ url_for('patient.update_profile') }}" class="btn btn-primary btn-sm mb-2 pop">
                    Update Profile
                </a>
                <a href="{{ url_for('patient.change_password') }}" class="btn btn-secondary btn-sm mb-2 pop">
                    Change Password
                </a>
            </div>
        </div>
        <div class="col-md-4 mb-2 text-start">
            <div class="fs-4 fw-bold">{{ user.username }}</div>
            <div class="fs-5">
                {{ user.last_name}} {{ user.first_name}}
                {% if user.gender == "Male" %}
                <span class="badge bg-info-subtle text-info-emphasis rounded-pill">
                    <i class="bi bi-gender-male"></i>
                </span>
                {% else %}
                <span class="badge bg-warning-subtle text-warning-emphasis rounded-pill">
                    <i class="bi bi-gender-female"></i>
                </span>
                {% endif %}
            </div>
            <div class="fs-5">Phone: <span class="text-secondary">{{ user.phone }}</span></div>
            <div class="fs-5">Email: <span class="text-secondary">{{ user.email }}</span></div>
            <div class="fs-5">Birthdate: <span class="text-secondary">{{ user.birthdate }}</span></div>
            <div class="fs-5">Account ID: <span class="text-secondary">#{{ current_user.id }}</span></div>
        </div>
        <div class="col-md-5 mb-2 ms-auto">
            <div class="me-1">
                <div class="fs-5 fw-bold">
                    <i class="bi bi-phone-fill"></i>
                    Current Device
                </div>
                <div class="fs-5">IP: <span class="text-secondary">{{ ip }}</span></div>
                <div class="fs-5">Browser: <span class="text-secondary">{{ info }}</span></div>
            </div>
            </p>
        </div>
    </div>
</div>
<div class="container mt-3">
    <div class="row gy-3">
        <div class="col-md-4 mb-2 pop">
            <div class="card h-100 bg-success-subtle">
                <div class="card-body">
                    <h5 class="card-title">Doctor Appointment</h5>
                    <p class="card-text">
                        Pick a doctor that you need and make appointment on your favourable time.
                    </p>
                    <a href="{{ url_for('public.doctors') }}" class="btn btn-success bg-gradient shadow-lg">Get Appointment</a>
                </div>
            </div>
        </div>
        <div class="col-md-4 mb-2 pop">
            <div class="card h-100">
                <div class="card-body bg-info-subtle">
                    <h5 class="card-title">Medical Test</h5>
                    <p class="card-text">
                        Need to do medical test? Check our available tests and register for your need.
                    </p>
                    <a href="{{ url_for('public.tests') }}" class="btn btn-info bg-gradient shadow-lg text-white">Apply
                        for Test</a>
                </div>
            </div>
        </div>
        <div class="col-md-4 mb-2 pop">
            <div class="card h-100">
                <div class="card-body bg-danger-subtle">
                    <h5 class="card-title">Medical Records</h5>
                    <p class="card-text">
                        It's necessary to keep your account updated with latest medical records to get better treatment.
                    </p>
                    <a href="{{ url_for('patient.medical_records') }}"
                        class="btn btn-danger bg-gradient shadow-lg text-white">Update Records</a>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="container mt-3">
    <div class="row">
        <div class="col-md-4 mb-2 pop">
            <a href="{{ url_for('patient.logs') }}" class="text-decoration-none">
                <div class="card h-100">
                    <div class="card-body">
                        <h5 class="card-title text-primary fs-4 fw-semibold">Activity Logs</h5>
                        <p class="card-text">
                            View your account activity history.
                        </p>
                    </div>
                </div>
            </a>
        </div>
        <div class="col-md-4 mb-2 pop">
            <a href="{{ url_for('patient.invoices') }}" class="text-decoration-none">
                <div class="card h-100">
                    <div class="card-body">
                        <h5 class="card-title text-primary fs-4 fw-semibold">Invoices</h5>
                        <p class="card-text">
                            View all invoices and details.
                        </p>
                    </div>
                </div>
            </a>
        </div>
        <div class="col-md-4 mb-2 pop">
            <a href="{{ url_for('patient.tests') }}" class="text-decoration-none">
                <div class="card h-100">
                    <div class="card-body">
                        <h5 class="card-title text-primary fs-4 fw-semibold">Medical Tests</h5>
                        <p class="card-text">
                            View all appointed tests details and reports.
                        </p>
                    </div>
                </div>
            </a>
        </div>
    </div>
</div>
{% endblock content %}